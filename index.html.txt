<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo Educativo: Formação das Sementes</title>
<style>
  body { font-family: 'Arial', sans-serif; margin:0; padding:0; background:#e0f7fa; display:flex; justify-content:center; align-items:center; height:100vh; }
  #app { width: 95%; max-width: 480px; background: #ffffff; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); padding: 20px; text-align:center; }
  h1 { color:#00695c; font-size:1.5em; margin-bottom:10px; }
  .question { margin:20px 0; font-size:1.2em; min-height:60px; }
  .answers { display:flex; flex-direction:column; gap:10px; }
  button { padding: 12px; border:none; border-radius:10px; font-size:1em; cursor:pointer; transition:0.2s; }
  button:hover { transform:scale(1.05); }
  .correct { background-color:#81c784; color:#fff; }
  .wrong { background-color:#e57373; color:#fff; }
  .lifeline { background:#0288d1; color:#fff; margin:5px; }
  #germination { margin:20px auto; height:120px; width:50px; position:relative; }
  .seed { width:30px; height:30px; background:brown; border-radius:50%; position:absolute; bottom:0; left:50%; transform:translateX(-50%); }
  #progress { display:flex; justify-content:space-between; margin-top:10px; }
  .progress-step { width:20px; height:20px; border-radius:50%; background:#b2dfdb; }
  .progress-step.active { background:#00695c; }
</style>
</head>
<body>
<div id="app">
  <h1>Formação das Sementes</h1>
  <div id="question-count">Pergunta 1 / 3</div>
  <div class="question" id="question"></div>
  <div class="answers" id="answers"></div>
  <div>
    <button class="lifeline" id="lifeline">50/50</button>
    <button class="lifeline" id="expert">Especialista</button>
    <button class="lifeline" id="skip">Pular</button>
  </div>
  <p id="score">Pontuação: 0</p>
  <div id="germination"></div>
  <div id="progress"></div>
</div>

<audio id="sound-correct" src="https://www.soundjay.com/button/sounds/button-4.mp3"></audio>
<audio id="sound-wrong" src="https://www.soundjay.com/button/sounds/button-10.mp3"></audio>

<script>
const questions = [
  {question:"Qual é a função do embrião na semente?", answers:["Proteger","Nova planta","Produzir flores","Atrair insetos"], correct:1},
  {question:"Qual parte da semente armazena nutrientes?", answers:["Endosperma","Caule","Folha","Raiz"], correct:0},
  {question:"O que é germinação?", answers:["Morte da semente","Crescimento da planta","Produção de flores","Dispersão"], correct:1}
];
let currentQuestion=0, score=0, lifelineUsed=false, expertUsed=false;

function loadQuestion(){
  const q = questions[currentQuestion];
  document.getElementById('question').innerText = q.question;
  document.getElementById('question-count').innerText = `Pergunta ${currentQuestion+1} / ${questions.length}`;
  const answersDiv = document.getElementById('answers'); answersDiv.innerHTML='';
  q.answers.forEach((ans,i)=>{
    const btn=document.createElement('button');
    btn.innerText=ans;
    btn.onclick=()=>checkAnswer(i);
    answersDiv.appendChild(btn);
  });
  updateProgress();
}

function checkAnswer(selected){
  const q = questions[currentQuestion];
  const buttons=document.querySelectorAll('#answers button');
  if(selected===q.correct){
    score+=100;
    buttons[selected].classList.add('correct');
    document.getElementById('sound-correct').play();
    showGermination();
  } else {
    buttons[selected].classList.add('wrong');
    buttons[q.correct].classList.add('correct');
    document.getElementById('sound-wrong').play();
  }
  document.getElementById('score').innerText=`Pontuação: ${score}`;
  currentQuestion++;
  setTimeout(()=>{
    document.getElementById('germination').innerHTML='';
    if(currentQuestion<questions.length) loadQuestion();
    else document.getElementById('app').innerHTML=`<h1>Fim! Pontuação: ${score}</h1>`;
  },1200);
}

function showGermination(){
  const div=document.getElementById('germination');
  const seed=document.createElement('div'); seed.className='seed'; div.appendChild(seed);
  let height=30;
  const interval=setInterval(()=>{
    if(height>=100) clearInterval(interval);
    seed.style.height=height+'px'; height+=3;
  },50);
}

// Lifelines
document.getElementById('lifeline').onclick=()=>{
  if(lifelineUsed){ alert('50/50 já usado!'); return; }
  lifelineUsed=true;
  const q=questions[currentQuestion];
  const buttons=document.querySelectorAll('#answers button'); let removed=0;
  for(let i=0;i<buttons.length;i++){
    if(i!==q.correct && removed<2){ buttons[i].style.display='none'; removed++; }
  }
};

document.getElementById('expert').onclick=()=>{
  if(expertUsed){ alert('Especialista já usado!'); return; }
  expertUsed=true;
  const q=questions[currentQuestion];
  alert(`Especialista sugere: "${q.answers[q.correct]}"`);
};

document.getElementById('skip').onclick=()=>{
  currentQuestion++;
  if(currentQuestion<questions.length) loadQuestion();
  else document.getElementById('app').innerHTML=`<h1>Fim! Pontuação: ${score}</h1>`;
};

// Progress bar
function updateProgress(){
  const bar=document.getElementById('progress'); bar.innerHTML='';
  questions.forEach((_,i)=>{
    const step=document.createElement('div'); step.className='progress-step';
    if(i===currentQuestion) step.classList.add('active');
    bar.appendChild(step);
  });
}

loadQuestion();
</script>
</body>
</html>
